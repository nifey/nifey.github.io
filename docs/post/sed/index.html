<!DOCTYPE html>
<html><head lang="en">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Notes on Sed - Nihaal</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Sed Stream EDitor, UNIX utility Based on ed (line oriented text editor) Used commonly for find and replace based on Regular expressions Useful for processing and transforming logs Can also be used inside vim for find and replace Basic usage cat file | sed &#39;s/hello/world/&#39; sed &#39;s/hello/world/&#39; file sed file -e &#39;s/hello/world/&#39; sed &#39;s/hello/world/&#39; -i file	# Inline (will replace in the file) cat file | sed &#39;/REGEX/d&#39;	# Delete lines matching a regular expression Regular expression syntax Language to represent string patterns Useful beyond sed (eg: grepping through source code) Basic regex: Specify characters to match &lsquo;a&rsquo; matches character a [a-z] matches lowercase alphabets [a-zA-Z0-9] matches alphabets and numbers [abc] matches characters a b c [^abc] matches anything except characters a b c Specify count of characters to match * -&gt; Zero or more instances \&#43; -&gt; One or more instances ?" />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="Notes on Sed" />
<meta property="og:description" content="Sed Stream EDitor, UNIX utility Based on ed (line oriented text editor) Used commonly for find and replace based on Regular expressions Useful for processing and transforming logs Can also be used inside vim for find and replace Basic usage cat file | sed &#39;s/hello/world/&#39; sed &#39;s/hello/world/&#39; file sed file -e &#39;s/hello/world/&#39; sed &#39;s/hello/world/&#39; -i file	# Inline (will replace in the file) cat file | sed &#39;/REGEX/d&#39;	# Delete lines matching a regular expression Regular expression syntax Language to represent string patterns Useful beyond sed (eg: grepping through source code) Basic regex: Specify characters to match &lsquo;a&rsquo; matches character a [a-z] matches lowercase alphabets [a-zA-Z0-9] matches alphabets and numbers [abc] matches characters a b c [^abc] matches anything except characters a b c Specify count of characters to match * -&gt; Zero or more instances \&#43; -&gt; One or more instances ?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://nihaal.me/post/sed/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-08-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-08-12T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Notes on Sed"/>
<meta name="twitter:description" content="Sed Stream EDitor, UNIX utility Based on ed (line oriented text editor) Used commonly for find and replace based on Regular expressions Useful for processing and transforming logs Can also be used inside vim for find and replace Basic usage cat file | sed &#39;s/hello/world/&#39; sed &#39;s/hello/world/&#39; file sed file -e &#39;s/hello/world/&#39; sed &#39;s/hello/world/&#39; -i file	# Inline (will replace in the file) cat file | sed &#39;/REGEX/d&#39;	# Delete lines matching a regular expression Regular expression syntax Language to represent string patterns Useful beyond sed (eg: grepping through source code) Basic regex: Specify characters to match &lsquo;a&rsquo; matches character a [a-z] matches lowercase alphabets [a-zA-Z0-9] matches alphabets and numbers [abc] matches characters a b c [^abc] matches anything except characters a b c Specify count of characters to match * -&gt; Zero or more instances \&#43; -&gt; One or more instances ?"/>

        <link href="https://nihaal.me/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://nihaal.me/css/main.6a0f23ea50fd34b46fee262a5a68e17d458c51a2bc99ba1ba018065de6b180c3.css" />
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://nihaal.me/">Nihaal</a>
	</div>
	<nav>
		
		<a href="/post">Posts</a>
		
		<a href="/tags">Tags</a>
		
		
	</nav>
</header>

<main>
  <article>
    <div class="post-container">
      
      <div class="post-content">
        <div class="title">
          <h1 class="title">Notes on Sed</h1>
          <div class="meta">Posted on Aug 12, 2023</div>
        </div>
        
        <section class="body">
          <h1 id="sed">Sed</h1>
<ul>
<li>Stream EDitor, UNIX utility</li>
<li>Based on ed (line oriented text editor)</li>
<li>Used commonly for <strong>find and replace</strong> based on Regular expressions</li>
<li>Useful for processing and transforming logs</li>
<li>Can also be used inside vim for find and replace</li>
</ul>
<h1 id="basic-usage">Basic usage</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>cat file | sed <span style="color:#e6db74">&#39;s/hello/world/&#39;</span>
</span></span><span style="display:flex;"><span>sed <span style="color:#e6db74">&#39;s/hello/world/&#39;</span> file
</span></span><span style="display:flex;"><span>sed file -e <span style="color:#e6db74">&#39;s/hello/world/&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sed <span style="color:#e6db74">&#39;s/hello/world/&#39;</span> -i file	<span style="color:#75715e"># Inline (will replace in the file)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cat file | sed <span style="color:#e6db74">&#39;/REGEX/d&#39;</span>	<span style="color:#75715e"># Delete lines matching a regular expression</span>
</span></span></code></pre></div><h1 id="regular-expression-syntax">Regular expression syntax</h1>
<ul>
<li>Language to represent string patterns</li>
<li>Useful beyond sed (eg: grepping through source code)</li>
<li>Basic regex: <!-- raw HTML omitted --><!-- raw HTML omitted --></li>
<li>Specify characters to match
<ul>
<li><strong>&lsquo;a&rsquo;</strong> matches character a</li>
<li><strong>[a-z]</strong> matches lowercase alphabets</li>
<li><strong>[a-zA-Z0-9]</strong> matches alphabets and numbers</li>
<li><strong>[abc]</strong> matches characters a b c</li>
<li><strong>[^abc]</strong> matches anything except characters a b c</li>
</ul>
</li>
<li>Specify count of characters to match
<ul>
<li><strong>*</strong> -&gt; Zero or more instances</li>
<li><strong>\+</strong> -&gt; One or more instances</li>
<li><strong>?</strong> -&gt; Zero or one instances</li>
<li><strong>{8}</strong> -&gt; Matches 8 instances</li>
<li><strong>{1,3}</strong> -&gt; Matches 1 to 3 instances</li>
<li><strong>{3,}</strong> -&gt; Matches 3 or more instances</li>
</ul>
</li>
<li>Special characters
<ul>
<li><strong>.</strong> -&gt; Matches any character</li>
<li><strong>^</strong> -&gt; Matches the beginning of the line</li>
<li><strong>$</strong> -&gt; Matches the end of the line</li>
</ul>
</li>
<li>Combining regex
<ul>
<li><strong>&lsquo;regex1regex2&rsquo;</strong> matches regex1 first then regex2 (Concatenation)</li>
<li><strong>&lsquo;regex1\|regex2&rsquo;</strong> matches either regex1 or regex2 (Choice)</li>
</ul>
</li>
<li>Backreferences
<ul>
<li>Used for selecting a part of the matched string to be used for transforming text</li>
<li>Enclose parts of the regex with \( .. \) parenthesis</li>
<li>Use the corresponding matches in replacement using \1, \2, etc to match the first, second backreference respectively.</li>
</ul>
</li>
</ul>
<h1 id="sed-command-syntax">Sed command syntax</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>PATTERN_SPACE { commands; ...}
</span></span></code></pre></div><h2 id="pattern-space">Pattern space</h2>
<ul>
<li>Selects (filters) the lines that we want to process</li>
<li>Can be specified as line number ranges or regular expressions</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sed <span style="color:#e6db74">&#39;7d&#39;</span> file			<span style="color:#75715e"># Delete line number 7</span>
</span></span><span style="display:flex;"><span>sed <span style="color:#e6db74">&#39;1,10d&#39;</span> file		<span style="color:#75715e"># Delete line number 1 to 10</span>
</span></span><span style="display:flex;"><span>sed <span style="color:#e6db74">&#39;/REGEX/d&#39;</span> file		<span style="color:#75715e"># Delete lines matching REGEX</span>
</span></span><span style="display:flex;"><span>sed <span style="color:#e6db74">&#39;3,/REGEX/d&#39;</span> file		<span style="color:#75715e"># Delete from 3rd line to a line matching REGEX</span>
</span></span><span style="display:flex;"><span>sed <span style="color:#e6db74">&#39;/REGEX1/,/REGEX2/d&#39;</span> file	<span style="color:#75715e"># Delete lines starting from a line matching REGEX1 to a line matching REGEX2</span>
</span></span><span style="display:flex;"><span>sed <span style="color:#e6db74">&#39;/REGEX1/,$d&#39;</span> file		<span style="color:#75715e"># Delete lines starting from a line matching REGEX1 till end of file</span>
</span></span><span style="display:flex;"><span>sed <span style="color:#e6db74">&#39;/REGEX1/ {/REGEX2/d}&#39;</span> file <span style="color:#75715e"># Delete lines matching both REGEX1 and REGEX2</span>
</span></span></code></pre></div><h2 id="substitute-command-for-find-and-replace">Substitute command for find and replace</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># Finds patterns matching REGEX1 and replaces with REGEX2</span>
</span></span><span style="display:flex;"><span>cat file | sed <span style="color:#e6db74">&#39;s/REGEX1/REGEX2/[flags]&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Optional flags</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># i to ignore case</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># g to replace more than one instance of the pattern in a line</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># c to confirm every replacement (Only available in vim mode)</span>
</span></span></code></pre></div><h1 id="other-commands">Other commands</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># Delete command</span>
</span></span><span style="display:flex;"><span>cat file | sed <span style="color:#e6db74">&#39;/REGEX/d&#39;</span>	<span style="color:#75715e"># Delete lines matching a regular expression</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Print command</span>
</span></span><span style="display:flex;"><span>cat file | sed -n <span style="color:#e6db74">&#39;10p&#39;</span>		<span style="color:#75715e"># Print 10th line</span>
</span></span><span style="display:flex;"><span>cat file | sed -n <span style="color:#e6db74">&#39;/REGEX/p&#39;</span>	<span style="color:#75715e"># Grep</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Transliterate command</span>
</span></span><span style="display:flex;"><span>cat file | sed <span style="color:#e6db74">&#39;y/abc/ABC/&#39;</span>	<span style="color:#75715e"># Transliterate (a-&gt;A, b-&gt;B, c-&gt;C)</span>
</span></span></code></pre></div><p>For more information, execute <code>info sed</code> on the shell to get a manual on sed.</p>

        </section>
        <div class="post-tags">
          
          
          <nav class="nav tags">
            <ul class="tags">
              
              <li><a href="/tags/linux">linux</a></li>
              
            </ul>
          </nav>
          
          
        </div>
      </div>

      
      
    </div>

    </article>
</main>
<footer>
  <div style="display:flex"><a class="soc" href="https://github.com/nifey" rel="me" title="GitHub"><svg class="feather">
   <use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#github" />
</svg></a><a class="border"></a><a class="soc" href="https://in.linkedin.com/in/abdun-nihaal-289272143" rel="me" title="Linkedin"><svg class="feather">
   <use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#linkedin" />
</svg></a><a class="border"></a><a class="soc" href="https://scholar.google.com/citations?user=7OgnEeUAAAAJ" rel="me" title="Google Scholar"><svg class="feather">
   <use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#book" />
</svg></a><a class="border"></a></div>
  <div class="footer-info">
    2025  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>



</div>
    </body>
</html>
